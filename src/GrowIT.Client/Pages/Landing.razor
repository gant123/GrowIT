@page "/welcome"
@layout PublicLayout
@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthStateProvider
@inject IJSRuntime JS

@code {
    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthStateProvider.GetAuthenticationStateAsync();
        if (authState.User.Identity?.IsAuthenticated ?? false)
        {
            Navigation.NavigateTo("/");
        }
    }
}

<PageTitle>grow.IT - Nonprofit Impact Management</PageTitle>

<div class="landing-page">
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-badge">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                Enterprise-Grade Impact Management
            </div>
            <h1 class="hero-title">
                Scale Your Mission with 
                <span class="highlight">Intelligence & Clarity</span>
            </h1>
            <p class="hero-subtitle">
                The comprehensive platform for nonprofits to track complex investments, 
                verify multi-dimensional outcomes, and deliver boardroom-ready impact reports.
            </p>
            <div class="hero-actions">
                <a href="/register" class="btn btn-primary btn-lg">
                    Start Your Journey
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="5" y1="12" x2="19" y2="12"/>
                        <polyline points="12 5 19 12 12 19"/>
                    </svg>
                </a>
                <a href="/login" class="btn btn-outline btn-lg">
                    Sign In to Dashboard
                </a>
            </div>
            <p class="hero-note">Empowering community-driven change • Secure & Compliant</p>
        </div>
        <div class="hero-visual">
            <div class="dashboard-preview">
                <div class="preview-header">
                    <div class="preview-dots">
                        <span></span><span></span><span></span>
                    </div>
                    <span class="preview-title">grow.IT Dashboard</span>
                </div>
                <div class="preview-content">
                    <div class="preview-kpis">
                        <div class="preview-kpi">
                            <span class="kpi-num">847</span>
                            <span class="kpi-label">People Served</span>
                        </div>
                        <div class="preview-kpi">
                            <span class="kpi-num">$428K</span>
                            <span class="kpi-label">Invested</span>
                        </div>
                        <div class="preview-kpi">
                            <span class="kpi-num">2,156</span>
                            <span class="kpi-label">Outcomes</span>
                        </div>
                    </div>
                    <div class="preview-chart">
                        <div class="chart-bar" style="height: 40%"></div>
                        <div class="chart-bar" style="height: 65%"></div>
                        <div class="chart-bar" style="height: 45%"></div>
                        <div class="chart-bar" style="height: 80%"></div>
                        <div class="chart-bar" style="height: 60%"></div>
                        <div class="chart-bar" style="height: 90%"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Trusted By -->
    <section class="trusted-by">
        <p class="trusted-label">Empowering large-scale organizations across the sector</p>
        <div class="trusted-logos">
            <span class="logo-placeholder">Global Relief Alliance</span>
            <span class="logo-placeholder">Metropolitan Urban League</span>
            <span class="logo-placeholder">National Wellness Initiative</span>
            <span class="logo-placeholder">State Educational Fund</span>
            <span class="logo-placeholder">Coastal Environmental Group</span>
        </div>
    </section>

    <!-- Problem Section -->
    <section class="problem-section">
        <div class="section-header">
            <h2 class="section-title">The Challenge Every Nonprofit Faces</h2>
            <p class="section-subtitle">You're doing incredible work—but proving it shouldn't be this hard.</p>
        </div>
        <div class="problem-grid">
            <div class="problem-card">
                <div class="problem-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                    </svg>
                </div>
                <h3>Fragmented Data Silos</h3>
                <p>Critical data trapped in disparate spreadsheets and legacy systems. Breaking down silos to create a unified source of truth takes immense effort.</p>
            </div>
            <div class="problem-card">
                <div class="problem-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                </div>
                <h3>Compliance & Audit Risk</h3>
                <p>Scrambling for documentation during audits or high-stakes grant cycles. Manual reporting is prone to error and lacks the rigor enterprises require.</p>
            </div>
            <div class="problem-card">
                <div class="problem-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                        <line x1="12" y1="9" x2="12" y2="13"/>
                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                    </svg>
                </div>
                <h3>The "Impact Gap"</h3>
                <p>Performing significant work but lacking the sophisticated tools to aggregate outcomes at scale and demonstrate true ROI to major donors.</p>
            </div>
        </div>
    </section>

    <!-- Solution Section -->
    <section class="solution-section">
        <div class="section-header">
            <span class="section-badge">The grow.IT Difference</span>
            <h2 class="section-title">Everything Connected. Impact Visible.</h2>
            <p class="section-subtitle">One platform that turns your daily service into documented, measurable outcomes.</p>
        </div>
        
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                </div>
                <h3>People-Centered Tracking</h3>
                <p>Every person's journey in one place—from crisis to thriving. See their story unfold with every investment you make.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23"/>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                    </svg>
                </div>
                <h3>Investment Tracking</h3>
                <p>Track every dollar by funding source, category, and recipient. Know exactly where your resources go.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                </div>
                <h3>Outcome Documentation</h3>
                <p>Capture imprints—the real changes in people's lives. Link outcomes to specific investments and goals.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.21 15.89A10 10 0 1 1 8 2.83"/>
                        <path d="M22 12A10 10 0 0 0 12 2v10z"/>
                    </svg>
                </div>
                <h3>Grant-Ready Reports</h3>
                <p>Generate beautiful reports in seconds. Impress funders with data they can trust.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83"/>
                        <circle cx="12" cy="12" r="4"/>
                    </svg>
                </div>
                <h3>Growth Plans</h3>
                <p>Create structured journeys with goals and milestones. Watch people progress from Crisis to Harvest.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                        <polyline points="17 6 23 6 23 12"/>
                    </svg>
                </div>
                <h3>Real-Time Insights</h3>
                <p>Dashboard shows what matters: people served, dollars invested, outcomes achieved—updated in real time.</p>
            </div>
        </div>
    </section>

    <!-- Seasons Section -->
    <section class="seasons-section">
        <div class="section-header">
            <h2 class="section-title">Track the Journey, Not Just the Transaction</h2>
            <p class="section-subtitle">Our unique Seasons framework helps you see where people are and what they need.</p>
        </div>
        
        <div class="seasons-visual">
            <div class="season-item crisis">
                <div class="season-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                    </svg>
                </div>
                <h4>Crisis</h4>
                <p>Immediate stabilization needed</p>
            </div>
            <div class="season-arrow">→</div>
            <div class="season-item planting">
                <div class="season-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                </div>
                <h4>Planting</h4>
                <p>Building foundation</p>
            </div>
            <div class="season-arrow">→</div>
            <div class="season-item growing">
                <div class="season-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                    </svg>
                </div>
                <h4>Growing</h4>
                <p>Developing independence</p>
            </div>
            <div class="season-arrow">→</div>
            <div class="season-item harvest">
                <div class="season-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="8" r="7"/>
                        <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
                    </svg>
                </div>
                <h4>Harvest</h4>
                <p>Thriving & giving back</p>
            </div>
        </div>
    </section>

    <!-- Testimonial -->
    <section class="testimonial-section">
        <div class="testimonial-card">
            <div class="quote-mark">"</div>
            <blockquote>
                grow.IT changed how we think about our work. We're not just handing out assistance—we're making 
                investments in people's futures. Now we can prove it to our board and funders.
            </blockquote>
            <div class="testimonial-author">
                <div class="author-avatar">SM</div>
                <div class="author-info">
                    <span class="author-name">Sarah Mitchell</span>
                    <span class="author-role">Executive Director, Community Hope Network</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing -->
    <section class="pricing-section">
        <div class="section-header">
            <h2 class="section-title">Simple, Transparent Pricing</h2>
            <p class="section-subtitle">Start free, scale as you grow. No hidden fees.</p>
        </div>
        
        <div class="pricing-grid">
            <div class="pricing-card">
                <div class="pricing-header">
                    <h3>Professional</h3>
                    <p class="pricing-desc">For established nonprofits requiring robust tracking</p>
                </div>
                <div class="pricing-price">
                    <span class="price-amount">$99</span>
                    <span class="price-period">/month</span>
                </div>
                <ul class="pricing-features">
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Up to 1,000 People Served</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Unlimited Investments & Imprints</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Advanced Reporting Suite</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> 10 User Seats Included</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Priority Email Support</li>
                </ul>
                <a href="/register?plan=pro" class="btn btn-outline btn-block">Start 14-Day Trial</a>
            </div>
            
            <div class="pricing-card featured">
                <div class="pricing-badge">Recommended</div>
                <div class="pricing-header">
                    <h3>Enterprise</h3>
                    <p class="pricing-desc">Full-scale impact management for large institutions</p>
                </div>
                <div class="pricing-price">
                    <span class="price-amount">$299</span>
                    <span class="price-period">/month</span>
                </div>
                <ul class="pricing-features">
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Unlimited People Served</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Multi-Program Management</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Custom Impact Dashboards</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Unlimited User Seats</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Dedicated Success Manager</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> White-Label Reporting</li>
                </ul>
                <a href="/register?plan=enterprise" class="btn btn-primary btn-block">Get Started Enterprise</a>
            </div>
            
            <div class="pricing-card">
                <div class="pricing-header">
                    <h3>Custom Solutions</h3>
                    <p class="pricing-desc">For governments and international NGOs</p>
                </div>
                <div class="pricing-price">
                    <span class="price-amount">Quote</span>
                </div>
                <ul class="pricing-features">
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Unlimited Entities & Programs</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Advanced Security & Compliance</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Full API & Integration Access</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> Single Sign-On (SSO)</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> On-Premise Deployment Options</li>
                    <li><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> 24/7 Phone & Technical Support</li>
                </ul>
                <a href="/contact" class="btn btn-outline btn-block">Consult Our Team</a>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="cta-content">
            <h2>Ready to Show Your Impact?</h2>
            <p>Join hundreds of nonprofits transforming how they track and report their work.</p>
            <div class="cta-actions">
                <a href="/register" class="btn btn-white btn-lg">
                    Start Your Free Trial
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="5" y1="12" x2="19" y2="12"/>
                        <polyline points="12 5 19 12 12 19"/>
                    </svg>
                </a>
            </div>
            <p class="cta-note">14-day free trial • No credit card required</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="landing-footer">
        <div class="footer-content">
            <div class="footer-brand">
                <a href="/welcome" class="footer-logo">
                    <img src="images/logo-@(_currentTheme).png" alt="GrowIT" class="brand-logo" />
                </a>
                <p>Enterprise-grade impact management for large-scale social impact.</p>
            </div>
            
            <div class="footer-links">
                <div class="footer-column">
                    <h4>Product</h4>
                    <a href="#features">Features</a>
                    <a href="#pricing">Pricing</a>
                    <a href="/demo">Request Demo</a>
                    <a href="/changelog">Changelog</a>
                </div>
                <div class="footer-column">
                    <h4>Resources</h4>
                    <a href="/docs">Documentation</a>
                    <a href="/blog">Blog</a>
                    <a href="/webinars">Webinars</a>
                    <a href="/templates">Report Templates</a>
                </div>
                <div class="footer-column">
                    <h4>Company</h4>
                    <a href="/about">About Us</a>
                    <a href="/contact">Contact</a>
                    <a href="/careers">Careers</a>
                    <a href="/partners">Partners</a>
                </div>
                <div class="footer-column">
                    <h4>Legal</h4>
                    <a href="/privacy">Privacy Policy</a>
                    <a href="/terms">Terms of Service</a>
                    <a href="/security">Security</a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 grow.IT. All rights reserved.</p>
            <div class="social-links">
                <a href="#" aria-label="Twitter">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg>
                </a>
                <a href="#" aria-label="LinkedIn">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>
                </a>
                <a href="#" aria-label="GitHub">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
                </a>
            </div>
        </div>
    </footer>
</div>

@code {
    private string _currentTheme = "light";

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            _currentTheme = await JS.InvokeAsync<string>("blazorInterop.getTheme");
            StateHasChanged();
        }
    }
}
